name: RindexerFactoryContract
project_type: rust
networks:
  - name: ethereum
    chain_id: 1
    rpc: https://mainnet.gateway.tenderly.co
  - name: base
    chain_id: 8453
    rpc: https://base.llamarpc.com
storage:
  clickhouse:
    enabled: true
    drop_each_run: true
contracts:
  - name: UniswapV3Factory
    details:
      - network: base
        start_block: 33000000
        end_block: 33000500
        address: 0x33128a8fC17869897dcE68Ed026d694621f6FDfD
      - network: ethereum
        start_block: 22000000
        end_block: 22000500
        address: 0x1F98431c8aD98523631AE4a59f267346ea31F984
    abi: ./abis/uniswap-v3-factory-abi.json
    include_events:
      - OwnerChanged
  - name: UniswapV3Pool
    details:
      - network: base
        start_block: 33000000
        end_block: 33000500
        factory:
          name: UniswapV3Factory
          address: 0x33128a8fC17869897dcE68Ed026d694621f6FDfD
          abi: ./abis/uniswap-v3-factory-abi.json
          event_name: PoolCreated
          input_name: "pool"
      - network: ethereum
        start_block: 22000000
        end_block: 22000500
        factory:
          name: UniswapV3Factory
          address: 0x1F98431c8aD98523631AE4a59f267346ea31F984
          abi: ./abis/uniswap-v3-factory-abi.json
          event_name: PoolCreated
          input_name: "pool"
    abi: ./abis/uniswap-v3-pool-abi.json
    include_events:
      - Swap
  - name: UniswapV3PoolToken
    details:
      - network: base
        start_block: 33000000
        end_block: 33000500
        factory:
          name: UniswapV3Factory
          address: 0x33128a8fC17869897dcE68Ed026d694621f6FDfD
          abi: ./abis/uniswap-v3-factory-abi.json
          event_name: PoolCreated
          input_name:
            - "token0"
            - "token1"
      - network: ethereum
        start_block: 22000000
        end_block: 22000500
        factory:
          name: UniswapV3Factory
          address: 0x1F98431c8aD98523631AE4a59f267346ea31F984
          abi: ./abis/uniswap-v3-factory-abi.json
          event_name: PoolCreated
          input_name:
            - "token0"
            - "token1"
    abi: ./abis/erc20-abi.json
    include_events:
      - Transfer


